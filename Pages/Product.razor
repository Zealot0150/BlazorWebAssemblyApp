@page "/"
@using ShopModel.Dtos
@inherits ProductsBase



@if (Products == null)
{
	<h3 class="mb-5">Products loading </h3>
}
else
{
	<h3 class="mb-5">Products</h3>
	var productCount = Products.Count();
	if (productCount > 0)
	{


		<div class="row mt-3">
			@foreach (var cat in GetGroupedProductCatDtos())
			{
				<h4>@GetCategoryName(cat) </h4>
				<ProductDisplay Products="@cat"></ProductDisplay>
				<hr />
			}
		</div>

		@*const int itmesPerRow = 4;
			// osorterat 4 varje rad bara för komihåg och linken.

			var productsRowList = new List<ProductDto>();

			for (int i = 0; i < Products.Count(); i++)
			{
			productsRowList = Products.Skip(i * itmesPerRow).Take(itmesPerRow).ToList();
			<div class="row mt-3">
			<ProductDisplay Products="@productsRowList"></ProductDisplay>
			</div>
			}*@
	}
}
